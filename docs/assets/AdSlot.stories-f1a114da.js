import{S as E,i as I,s as N,o as m,b as l,e as u,n as T,f,D as P,g as h,m as w,t as b,h as k,j as A,y as S,d as y,C as D}from"./index-43e9a565.js";import{g as x,a as R}from"./spread-8a54911c.js";import{p as M,M as z,T as Q,S as U}from"./collect-stories-23d08061.js";import{g as j}from"./globals-7f7f1b26.js";import{t as B}from"./throttle-dfed7c30.js";import{B as L}from"./Block-db774151.js";import{w as V}from"./withParams-47e2ab71.js";import"./isObject-32699ff3.js";import"./now-bd49f550.js";import"./isSymbol-50749e90.js";const Y=`Display a FreeStar Ad Slot

Note: You must use this domain to access the story book:
\`http://localhost.arcpublishing.com:3000\`

This domain has been whitelisted on the Ad server. To setup the domain locally, add the following line to \`/etc/hosts\`:

\`\`\`
127.0.0.1 localhost localhost.arcpublishing.com
\`\`\`

\`\`\`svelte
<script>
  import { AdSlot, AdScripts } from '@reuters-graphics/graphics-components';
<\/script>

<!-- Include only ONCE per page -->
<AdScripts />

<AdSlot
  placementName="reuters_desktop_native"
  slotId="reuters_desktop_native"
/>

<AdSlot
  placementName="reuters_desktop_native"
  slotId="reuters_desktop_native"
/>
\`\`\`
`,C=(a,e=window.location.href)=>{a=a.replace(/[\[\]]/g,"\\$&");const t=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)").exec(e);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},G=600,K=()=>new Promise(a=>{const e=setTimeout(()=>{a("Resolved with timeout")},G),s=()=>{clearTimeout(e),window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="931336",a("loaded")},t=document.createElement("script");t.src="//static.adsafeprotected.com/iasPET.1.js",t.setAttribute("async","async"),document.head.appendChild(t),t.onload=s,t.onerror=()=>{a("error")}}),q=(a,e)=>{const s=document.createElement("script");s.addEventListener("load",e),s.src=a,document.head.append(s)},H="ot_logs",J="ot_geolocation_mock",W="38cb75bd-fbe1-4ac8-b4af-e531ab368caf-test",X=()=>{window.freestar=window.freestar||{};const a=window.freestar;a.debug=!0,a.queue=a.queue||[],a.config=a.config||{},a.config.enabled_slots=[],a.initCallback=function(){a.config.enabled_slots.length===0?a.initCallbackCalled=!1:a.newAdSlots(a.config.enabled_slots)},a.config.channel="/4735792/reuters.com/home",window.initBootstrap({onetrust_logs:C(H)||"false",geolocation_mock:C(J)||"default",onetrust_script_id:W},e=>{const s=K();return Promise.all([s]).then(t=>{const[r]=t;return{...e,ias:r}})}),window.bootstrap.getResults(e=>{q("https://a.pub.network/reuters-com/pubfig.min.js"),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(()=>{var r;window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().enableAsyncRendering(),window.googletag.pubads().collapseEmptyDivs(!0);const s=new URL(document.location.href).searchParams.get("adstest");s&&window.googletag.pubads().setTargeting("adstest",s);const t=(r=document.querySelector('meta[name="ad:template"]'))==null?void 0:r.content;t&&window.googletag.pubads().setTargeting("template",t)}),Array.isArray(window.graphicsAdQueue)||console.error("Ad queue not initialized!"),a.queue.push(function(){a.newAdSlots(window.graphicsAdQueue||[],"foobar")}),a.queue.push(function(){window.googletag.pubads().set("page_url","https://www.reuters.com/")})})},{document:g}=j;function Z(a){let e,s,t,r,i,d,c,p,o,n;return{c(){e=m("link"),s=m("link"),t=m("link"),r=m("link"),i=m("link"),d=m("link"),c=m("link"),p=m("link"),o=m("link"),n=m("link"),l(e,"rel","preconnect"),l(e,"href","https://a.pub.network/"),l(e,"crossorigin",""),l(s,"rel","preconnect"),l(s,"href","https://b.pub.network/"),l(s,"crossorigin",""),l(t,"rel","preconnect"),l(t,"href","https://c.pub.network/"),l(t,"crossorigin",""),l(r,"rel","preconnect"),l(r,"href","https://d.pub.network/"),l(r,"crossorigin",""),l(i,"rel","preconnect"),l(i,"href","https://c.amazon-adsystem.com"),l(i,"crossorigin",""),l(d,"rel","preconnect"),l(d,"href","https://s.amazon-adsystem.com"),l(d,"crossorigin",""),l(c,"rel","preconnect"),l(c,"href","https://btloader.com/"),l(c,"crossorigin",""),l(p,"rel","preconnect"),l(p,"href","https://api.btloader.com/"),l(p,"crossorigin",""),l(o,"rel","preconnect"),l(o,"href","https://confiant-integrations.global.ssl.fastly.net"),l(o,"crossorigin",""),l(n,"rel","stylesheet"),l(n,"href","https://a.pub.network/reuters-com/cls.css")},m(_,v){u(g.head,e),u(g.head,s),u(g.head,t),u(g.head,r),u(g.head,i),u(g.head,d),u(g.head,c),u(g.head,p),u(g.head,o),u(g.head,n)},p:T,i:T,o:T,d(_){f(e),f(s),f(t),f(r),f(i),f(d),f(c),f(p),f(o),f(n)}}}function ee(a){let e=0,s=!1;const t=(i=!0)=>{const d=document.getElementById("ot-sdk-btn-floating");d&&(i?d.style.bottom="":d.style.bottom="-5rem")},r=()=>{e>window.scrollY?s||(s=!0,t(!0)):s&&window.scrollY>250&&(s=!1,t(!1)),e=window.scrollY};return P(()=>{window.graphicsAdQueue=window.graphicsAdQueue||[],q("https://graphics.thomsonreuters.com/cdn/js/bootstrap.static.js",X),window.addEventListener("scroll",B(r,250),{passive:!0})}),[]}class F extends E{constructor(e){super(),I(this,e,ee,Z,N,{})}}F.__docgen={version:3,name:"AdScripts.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function te(a){let e,s,t,r,i,d,c,p;return{c(){e=m("div"),s=m("div"),s.textContent="Advertisement Â· Scroll to continue",t=S(),r=m("div"),i=m("div"),d=m("div"),c=m("div"),l(s,"class","ad-label svelte-1gzmm8s"),l(c,"data-freestar-ad",p=a[0]||null),l(c,"id",a[3]),l(c,"class","svelte-1gzmm8s"),l(d,"class","svelte-1gzmm8s"),l(i,"class","ad-slot__inner svelte-1gzmm8s"),l(r,"class","ad-container svelte-1gzmm8s"),l(e,"class","ad-block svelte-1gzmm8s")},m(o,n){y(o,e,n),u(e,s),u(e,t),u(e,r),u(r,i),u(i,d),u(d,c)},p(o,n){n&1&&p!==(p=o[0]||null)&&l(c,"data-freestar-ad",p)},d(o){o&&f(e)}}}function se(a){let e,s;return e=new L({props:{id:a[1],class:"freestar-adslot "+a[2],$$slots:{default:[te]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},m(t,r){w(e,t,r),s=!0},p(t,[r]){const i={};r&2&&(i.id=t[1]),r&4&&(i.class="freestar-adslot "+t[2]),r&129&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){A(e,t)}}}function ne(a,e,s){let{placementName:t="reuters_desktop_native_1"}=e,{dataFreestarAd:r="__970x250"}=e,{id:i=""}=e,{class:d="my-12"}=e;const c=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1),p="ad-"+c()+c(),o=n=>{switch(n){case"reuters_sponsorlogo":return"Sponsorlogo";case"reuters_mobile_mpu_1":return"mpu";default:return"native"}};return P(()=>{const _=new URLSearchParams(window.location.search).get("adstest");window.graphicsAdQueue=window.graphicsAdQueue||[],window.graphicsAdQueue.push({placementName:t,slotId:p,type:o(t),graphicId:window.location.pathname,adstest:_})}),a.$$set=n=>{"placementName"in n&&s(4,t=n.placementName),"dataFreestarAd"in n&&s(0,r=n.dataFreestarAd),"id"in n&&s(1,i=n.id),"class"in n&&s(2,d=n.class)},[r,i,d,p,t]}class $ extends E{constructor(e){super(),I(this,e,ne,se,N,{placementName:4,dataFreestarAd:0,id:1,class:2})}}$.__docgen={version:3,name:"AdSlot.svelte",data:[{keywords:[{name:"required",description:""}],visibility:"public",description:"The unique placement name from FreeStar dashboard.",name:"placementName",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"reuters_desktop_native_1"},{keywords:[],visibility:"public",description:"The unique slot Id from FreeStar dashboard.",name:"dataFreestarAd",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"__970x250"},{keywords:[],visibility:"public",description:"Add an ID to target with SCSS.",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{visibility:"public",description:"Add a class to target with SCSS.",keywords:[],name:"class",kind:"const",static:!1,readonly:!0,type:{kind:"type",text:"string",type:"string"},localName:"cls",defaultValue:"my-12"}],computed:[],methods:[],components:[],description:"",keywords:[{name:"component",description:"`AdSlot` [Read the docs.](https://reuters-graphics.github.io/graphics-components/?path=/docs/components-AdSlot--default)"}],events:[],slots:[],refs:[]};function oe(a){let e,s,t,r,i,d,c;s=new F({});const p=[a[1]];let o={};for(let n=0;n<p.length;n+=1)o=D(o,p[n]);return r=new $({props:o}),d=new $({props:{placementName:"reuters_desktop_canvas",dataFreestarAd:"__970x250"}}),{c(){e=m("div"),h(s.$$.fragment),t=S(),h(r.$$.fragment),i=S(),h(d.$$.fragment)},m(n,_){y(n,e,_),w(s,e,null),u(e,t),w(r,e,null),u(e,i),w(d,e,null),c=!0},p(n,_){const v=_&2?x(p,[R(n[1])]):{};r.$set(v)},i(n){c||(b(s.$$.fragment,n),b(r.$$.fragment,n),b(d.$$.fragment,n),c=!0)},o(n){k(s.$$.fragment,n),k(r.$$.fragment,n),k(d.$$.fragment,n),c=!1},d(n){n&&f(e),A(s),A(r),A(d)}}}function ae(a){let e,s,t,r,i,d;const c=[a[0]];let p={};for(let o=0;o<c.length;o+=1)p=D(p,c[o]);return e=new z({props:p}),t=new Q({props:{$$slots:{default:[oe,({args:o})=>({1:o}),({args:o})=>o?2:0]},$$scope:{ctx:a}}}),i=new U({props:{name:"Default",args:{placementName:"reuters_desktop_native_1",dataFreestarAd:"__970x250"}}}),{c(){h(e.$$.fragment),s=S(),h(t.$$.fragment),r=S(),h(i.$$.fragment)},m(o,n){w(e,o,n),y(o,s,n),w(t,o,n),y(o,r,n),w(i,o,n),d=!0},p(o,[n]){const _=n&1?x(c,[R(o[0])]):{};e.$set(_);const v={};n&6&&(v.$$scope={dirty:n,ctx:o}),t.$set(v)},i(o){d||(b(e.$$.fragment,o),b(t.$$.fragment,o),b(i.$$.fragment,o),d=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),k(i.$$.fragment,o),d=!1},d(o){o&&(f(s),f(r)),A(e,o),A(t,o),A(i,o)}}}function re(a){return[{title:"Components/AdSlot",component:$,...V(Y),argTypes:{placementName:{control:"select",options:["reuters_desktop_leaderboard_atf","reuters_desktop_native","reuters_desktop_canvas"]},dataFreestarAd:{control:"select",options:["__970x250"]}}}]}class le extends E{constructor(e){super(),I(this,e,re,ae,N,{})}}const O=M(le,{meta:{},stories:{"tpl:default":{name:"default",template:!0,source:`<div>
  <AdScripts />
  <AdSlot {...args} />
  <AdSlot placementName="reuters_desktop_canvas" dataFreestarAd="__970x250" />
</div>`,hasArgs:!0},Default:{name:"Default",template:!1,source:"",hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","componentDocs","AdScripts","AdSlot","withComponentDocs"]}),we=O.meta,be=["Default"],ke=O.stories.Default;export{ke as Default,be as __namedExportsOrder,we as default};
//# sourceMappingURL=AdSlot.stories-f1a114da.js.map
