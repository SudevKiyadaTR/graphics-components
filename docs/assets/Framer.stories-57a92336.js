import{S as ee,i as te,s as le,R as at,w as L,M as ne,D as T,j as B,x as d,C as Z,a as N,z as I,m as R,N as M,Y as Ie,b as O,t as z,d as q,n as H,O as fe,L as Me,f as $,q as Le,p as K,$ as be,a0 as he,U as rt,u as Ee,r as Oe,v as Ve,k as oe,J as se,a1 as ze,o as Te,a2 as de,I as Ue,V as P,a3 as _e,y as Y,l as ce,a4 as ge,g as Ce,c as Ne,K as ot,e as qe,a5 as ut,a6 as ft,W as dt}from"./index-25af778d.js";import{w as ct,p as mt,M as pt,T as bt,S as ht}from"./collect-stories-cce06d4a.js";import{F as ae}from"./fa-0c534c9e.js";import{f as _t,a as je,b as gt}from"./index.es-7d03df34.js";import{p as yt}from"./pym.v1-49c58be6.js";import{u as vt}from"./index-11ab1f87.js";import{w as ye}from"./withParams-90715500.js";import"./_commonjsHelpers-725317a4.js";const ve=`An embed tool for development in the Graphics Kit.

\`\`\`html
<script>
  import { Framer } from '@reuters-graphics/graphics-components';

  const embeds = ['/embeds/my-chart/index.html'];
<\/script>

<Framer embeds="{embeds}" />
\`\`\`
`,G=ct(660);function kt(e){let t,l,a,s=(e[7]||e[3])+"",n,i,u,f,o,c,F,v,h,k,_,S,g,w,A,W,D,b,p;return at(e[21]),c=new ae({props:{icon:_t,fw:!0}}),A=new ae({props:{icon:je,fw:!0}}),{c(){t=L("div"),l=L("div"),a=L("div"),n=ne(s),i=ne("px"),f=T(),o=L("button"),B(c.$$.fragment),v=T(),h=L("div"),k=L("div"),_=T(),S=L("div"),g=T(),w=L("button"),B(A.$$.fragment),d(a,"class","label svelte-g53f92"),d(a,"style",u=`opacity: ${e[5]||e[6]?1:0};`),d(o,"class","icon left svelte-g53f92"),o.disabled=F=e[3]===e[1],d(k,"class","track svelte-g53f92"),d(S,"class","handle svelte-g53f92"),d(S,"tabindex","0"),Z(S,"left","calc("+e[8]*100+"% - 5px)"),d(h,"class","slider-container svelte-g53f92"),d(w,"class","icon right svelte-g53f92"),w.disabled=W=e[3]===e[2],d(l,"class","slider svelte-g53f92"),d(t,"id","resizer"),d(t,"class","svelte-g53f92")},m(y,E){N(y,t,E),I(t,l),I(l,a),I(a,n),I(a,i),I(l,f),I(l,o),R(c,o,null),I(l,v),I(l,h),I(h,k),I(h,_),I(h,S),e[22](h),I(l,g),I(l,w),R(A,w,null),D=!0,b||(p=[M(window,"mousemove",e[9]),M(window,"mouseup",e[12]),M(window,"keydown",e[10]),M(window,"resize",e[21]),M(o,"click",e[16]),M(o,"focus",e[13]),M(o,"mouseover",e[13]),M(o,"mouseleave",e[14]),M(S,"mousedown",e[11]),M(S,"focus",e[13]),M(S,"blur",e[14]),M(w,"click",e[15]),M(w,"focus",e[13]),M(w,"mouseover",e[13]),M(w,"mouseleave",e[14])],b=!0)},p(y,[E]){(!D||E&136)&&s!==(s=(y[7]||y[3])+"")&&Ie(n,s),(!D||E&96&&u!==(u=`opacity: ${y[5]||y[6]?1:0};`))&&d(a,"style",u),(!D||E&10&&F!==(F=y[3]===y[1]))&&(o.disabled=F),(!D||E&256)&&Z(S,"left","calc("+y[8]*100+"% - 5px)"),(!D||E&12&&W!==(W=y[3]===y[2]))&&(w.disabled=W)},i(y){D||(O(c.$$.fragment,y),O(A.$$.fragment,y),D=!0)},o(y){z(c.$$.fragment,y),z(A.$$.fragment,y),D=!1},d(y){y&&q(t),H(c),e[22](null),H(A),b=!1,fe(p)}}}const x=90;function wt(e,t,l){let a,s,n,i,u;Me(e,G,m=>l(3,u=m));let{breakpoints:f=[330,510,660,930,1200]}=t,{maxFrameWidth:o=1200}=t,{minFrameWidth:c=320}=t,F,v=1200,h=!1,k=!1;const _=m=>Math.ceil(m/5)*5,S=()=>Math.round(n*i+a);let g=null;const w=m=>{if(!h||!F)return;const{left:C}=F.getBoundingClientRect();l(8,i=Math.min(Math.max(0,m.pageX-C),x)/x),l(7,g=_(S()))},A=m=>{if(!k)return;const{keyCode:C}=m,Q=x/n;C===39?l(8,i=Math.min(1,i+Q/x)):C===37&&l(8,i=Math.max(0,i-Q/x)),G.set(S())},W=m=>{l(5,h=!0),w(m)},D=()=>{l(5,h=!1),l(7,g=null),G.set(_(S()))},b=()=>{l(6,k=!0)},p=()=>{l(6,k=!1)},y=()=>{const m=f.filter(C=>C<=s).filter(C=>C>u);m.length===0?G.set(s):G.set(m[0])},E=()=>{const m=f.filter(C=>C<u);m.length===0?G.set(a):G.set(m.slice(-1)[0])};function U(){l(0,v=window.innerWidth)}function j(m){$[m?"unshift":"push"](()=>{F=m,l(4,F)})}return e.$$set=m=>{"breakpoints"in m&&l(17,f=m.breakpoints),"maxFrameWidth"in m&&l(18,o=m.maxFrameWidth),"minFrameWidth"in m&&l(19,c=m.minFrameWidth)},e.$$.update=()=>{e.$$.dirty&524288&&l(1,a=c),e.$$.dirty&262145&&l(2,s=Math.min(v-70,o)),e.$$.dirty&6&&l(20,n=s-a),e.$$.dirty&12&&u>s&&G.set(s),e.$$.dirty&1048586&&l(8,i=(u-a)/n)},[v,a,s,u,F,h,k,g,i,w,A,W,D,b,p,y,E,f,o,c,n,U,j]}class Pe extends ee{constructor(t){super(),te(this,t,wt,kt,le,{breakpoints:17,maxFrameWidth:18,minFrameWidth:19})}}Pe.__docgen={version:3,name:"index.svelte",data:[{visibility:"public",description:null,keywords:[],name:"breakpoints",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{visibility:"public",description:null,keywords:[],name:"maxFrameWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:1200},{visibility:"public",description:null,keywords:[],name:"minFrameWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:320}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const Ft=e=>{const t=e.map(n=>n.replace(/\?.+$/,"")).map(n=>n.replace(/index\.html$/,"")).map(n=>n.replace(/^http[s]*:\/\/[\w.]+\.com/,""));if(t.length===1)return[t[0].split("/").filter(n=>n).slice(-1)[0]];const l=t[0];let a=0;for(const n in l.split("/")){const i=l.split("/")[n];if(t.every(f=>f.split("/")[n]===i))a+=1;else break}if(a===l.split("/").length)return t;let s=0;for(const n in l.split("/").reverse()){const i=l.split("/").reverse()[n];if(t.every(f=>f.split("/").reverse()[n]===i))s+=1;else break}return t.map(n=>s>0?n.split("/").slice(a,s*-1).join("/"):n.split("/").slice(a).join("/"))},J={};J.simpleFilter=function(e,t){return t.filter(function(l){return J.test(e,l)})};J.test=function(e,t){return J.match(e,t)!==null};J.match=function(e,t,l){l=l||{};let a=0;const s=[],n=t.length;let i=0,u=0;const f=l.pre||"",o=l.post||"",c=l.caseSensitive&&t||t.toLowerCase();let F;e=l.caseSensitive&&e||e.toLowerCase();for(let v=0;v<n;v++)F=t[v],c[v]===e[a]?(F=f+F+o,a+=1,u+=1+u):u=0,i+=u,s[s.length]=F;return a===e.length?(i=c===e?1/0:i,{rendered:s.join(""),score:i}):null};J.filter=function(e,t,l){return!t||t.length===0?[]:typeof e!="string"?t:(l=l||{},t.reduce(function(a,s,n,i){let u=s;l.extract&&(u=l.extract(s));const f=J.match(e,u,l);return f!=null&&(a[a.length]={string:f.rendered,score:f.score,index:n,original:s}),a},[]).sort(function(a,s){const n=s.score-a.score;return n||a.index-s.index}))};const St=e=>({}),ke=e=>({});function At(e){let t;return{c(){t=ne(e[2])},m(l,a){N(l,t,a)},p(l,a){a&4&&Ie(t,l[2])},d(l){l&&q(t)}}}function Dt(e){let t,l,a,s,n,i,u,f,o,c,F;const v=e[10].label,h=Le(v,e,e[9],ke),k=h||At(e);let _=[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},e[6],{id:e[4]}],S={};for(let g=0;g<_.length;g+=1)S=K(S,_[g]);return{c(){t=L("form"),l=L("label"),k&&k.c(),n=T(),i=L("input"),d(l,"id",a=e[4]+"-label"),d(l,"for",e[4]),d(l,"style",s=e[3]&&"position: absolute;height: 1px;width: 1px;overflow: hidden;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);white-space: nowrap;"),be(i,S),d(t,"data-svelte-search",""),d(t,"role",u=e[5]?null:"search"),d(t,"aria-labelledby",f=e[5]?null:e[4])},m(g,w){N(g,t,w),I(t,l),k&&k.m(l,null),I(t,n),I(t,i),i.autofocus&&i.focus(),e[17](i),he(i,e[0]),o=!0,c||(F=[M(i,"input",e[18]),M(i,"input",e[12]),M(i,"change",e[13]),M(i,"focus",e[14]),M(i,"blur",e[15]),M(i,"keydown",e[16]),M(t,"submit",rt(e[11]))],c=!0)},p(g,[w]){h?h.p&&(!o||w&512)&&Ee(h,v,g,g[9],o?Ve(v,g[9],w,St):Oe(g[9]),ke):k&&k.p&&(!o||w&4)&&k.p(g,o?w:-1),(!o||w&16&&a!==(a=g[4]+"-label"))&&d(l,"id",a),(!o||w&16)&&d(l,"for",g[4]),(!o||w&8&&s!==(s=g[3]&&"position: absolute;height: 1px;width: 1px;overflow: hidden;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);white-space: nowrap;"))&&d(l,"style",s),be(i,S=oe(_,[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},w&64&&g[6],(!o||w&16)&&{id:g[4]}])),w&1&&i.value!==g[0]&&he(i,g[0]),(!o||w&32&&u!==(u=g[5]?null:"search"))&&d(t,"role",u),(!o||w&48&&f!==(f=g[5]?null:g[4]))&&d(t,"aria-labelledby",f)},i(g){o||(O(k,g),o=!0)},o(g){z(k,g),o=!1},d(g){g&&q(t),k&&k.d(g),e[17](null),c=!1,fe(F)}}}function Wt(e,t,l){const a=["value","autofocus","debounce","label","hideLabel","id","ref","removeFormAriaAttributes"];let s=se(t,a),{$$slots:n={},$$scope:i}=t,{value:u=""}=t,{autofocus:f=!1}=t,{debounce:o=0}=t,{label:c="Label"}=t,{hideLabel:F=!1}=t,{id:v="search"+Math.random().toString(36)}=t,{ref:h=null}=t,{removeFormAriaAttributes:k=!1}=t;const _=ze();let S=u,g,w=!1;function A(m){w||(w=!0,g=setTimeout(()=>{m(),w=!1},o))}Te(()=>(f&&window.requestAnimationFrame(()=>h.focus()),()=>clearTimeout(g))),de(()=>{u.length>0&&u!==S&&(o>0?A(()=>_("type",u)):_("type",u)),u.length===0&&S.length>0&&_("clear"),S=u});function W(m){P.call(this,e,m)}function D(m){P.call(this,e,m)}function b(m){P.call(this,e,m)}function p(m){P.call(this,e,m)}function y(m){P.call(this,e,m)}function E(m){P.call(this,e,m)}function U(m){$[m?"unshift":"push"](()=>{h=m,l(1,h)})}function j(){u=this.value,l(0,u)}return e.$$set=m=>{t=K(K({},t),Ue(m)),l(6,s=se(t,a)),"value"in m&&l(0,u=m.value),"autofocus"in m&&l(7,f=m.autofocus),"debounce"in m&&l(8,o=m.debounce),"label"in m&&l(2,c=m.label),"hideLabel"in m&&l(3,F=m.hideLabel),"id"in m&&l(4,v=m.id),"ref"in m&&l(1,h=m.ref),"removeFormAriaAttributes"in m&&l(5,k=m.removeFormAriaAttributes),"$$scope"in m&&l(9,i=m.$$scope)},[u,h,c,F,v,k,s,f,o,i,n,W,D,b,p,y,E,U,j]}class Be extends ee{constructor(t){super(),te(this,t,Wt,Dt,le,{value:0,autofocus:7,debounce:8,label:2,hideLabel:3,id:4,ref:1,removeFormAriaAttributes:5})}}const It=Be;Be.__docgen={version:3,name:"Search.svelte",data:[{keywords:[],visibility:"public",description:"Specify the input value",name:"value",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"",bind:[{source:"input",property:"value"}]},{keywords:[],visibility:"public",description:"Set to `true` to auto focus the input on mount",name:"autofocus",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[],visibility:"public",description:"Specify the debounce value in milliseconds (ms)",name:"debounce",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:0},{keywords:[],visibility:"public",description:"Specify the input label text",name:"label",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"Label"},{keywords:[],visibility:"public",description:"Set to `true` to visually hide the label",name:"hideLabel",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[],visibility:"public",description:"Specify an `id` for the `input`",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{keywords:[{name:"type",description:"{HTMLInputElement}"}],visibility:"public",description:"Obtain a reference to the `input` element",name:"ref",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"HTMLInputElement",type:"HTMLInputElement"},defaultValue:null},{keywords:[],visibility:"public",description:'Set to `true` to omit the form `role="search"` attribute',name:"removeFormAriaAttributes",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"type"},{visibility:"public",description:null,keywords:[],name:"clear"},{keywords:[],visibility:"public",description:"",name:"submit",parent:"form",modificators:["preventDefault"],locations:null},{keywords:[],visibility:"public",description:"",name:"input",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"change",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"focus",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"blur",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"keydown",parent:"input",modificators:[],locations:null}],slots:[{keywords:[],visibility:"public",description:"",name:"label"}],refs:[]};function we(e,t,l){const a=e.slice();return a[46]=t[l],a[48]=l,a}const Mt=e=>({result:e[0]&2,value:e[0]&1}),Fe=e=>({result:e[46],index:e[48],value:e[0]});function Se(e){let t,l,a=e[1],s=[];for(let i=0;i<a.length;i+=1)s[i]=Ae(we(e,a,i));const n=i=>z(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();t=qe()},m(i,u){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,u);N(i,t,u),l=!0},p(i,u){if(u[0]&16778759){a=i[1];let f;for(f=0;f<a.length;f+=1){const o=we(i,a,f);s[f]?(s[f].p(o,u),O(s[f],1)):(s[f]=Ae(o),s[f].c(),O(s[f],1),s[f].m(t.parentNode,t))}for(Ce(),f=a.length;f<s.length;f+=1)n(f);Ne()}},i(i){if(!l){for(let u=0;u<a.length;u+=1)O(s[u]);l=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)z(s[u]);l=!1},d(i){ut(s,i),i&&q(t)}}}function Lt(e){let t,l=e[46].string+"",a;return{c(){t=new dt(!1),a=qe(),t.a=a},m(s,n){t.m(l,s,n),N(s,a,n)},p(s,n){n[0]&2&&l!==(l=s[46].string+"")&&t.p(l)},d(s){s&&q(a),s&&t.d()}}}function Ae(e){let t,l,a,s,n,i,u;const f=e[25].default,o=Le(f,e,e[24],Fe),c=o||Lt(e);function F(){return e[38](e[46],e[48])}function v(){return e[39](e[46],e[48])}return{c(){t=L("li"),c&&c.c(),l=T(),d(t,"role","option"),d(t,"id",a=e[2]+"-result-"+e[48]),d(t,"aria-selected",s=e[9]===e[48]),d(t,"class","svelte-8v3puo"),Y(t,"selected",e[9]===e[48]),Y(t,"disabled",e[46].disabled)},m(h,k){N(h,t,k),c&&c.m(t,null),I(t,l),n=!0,i||(u=[M(t,"click",F),M(t,"mouseenter",v)],i=!0)},p(h,k){e=h,o?o.p&&(!n||k[0]&16777219)&&Ee(o,f,e,e[24],n?Ve(f,e[24],k,Mt):Oe(e[24]),Fe):c&&c.p&&(!n||k[0]&2)&&c.p(e,n?k:[-1,-1]),(!n||k[0]&4&&a!==(a=e[2]+"-result-"+e[48]))&&d(t,"id",a),(!n||k[0]&512&&s!==(s=e[9]===e[48]))&&d(t,"aria-selected",s),(!n||k[0]&512)&&Y(t,"selected",e[9]===e[48]),(!n||k[0]&2)&&Y(t,"disabled",e[46].disabled)},i(h){n||(O(c,h),n=!0)},o(h){z(c,h),n=!1},d(h){h&&q(t),c&&c.d(h),i=!1,fe(u)}}}function De(e){let t;return{c(){t=L("li"),t.textContent="No embeds found...",d(t,"class","no-results disabled svelte-8v3puo")},m(l,a){N(l,t,a)},d(l){l&&q(t)}}}function Et(e){let t,l,a,s,n,i,u,f,o,c,F,v,h,k,_;const S=[{id:e[2]},{removeFormAriaAttributes:!0},e[14],{"aria-autocomplete":"list"},{"aria-controls":e[2]+"-listbox"},{"aria-labelledby":e[2]+"-label"},{"aria-activedescendant":e[9]>=0&&!e[4]&&e[1].length>0?`${e[2]}-result-${e[9]}`:null}];function g(b){e[27](b)}function w(b){e[28](b)}let A={};for(let b=0;b<S.length;b+=1)A=K(A,S[b]);e[8]!==void 0&&(A.ref=e[8]),e[0]!==void 0&&(A.value=e[0]),l=new It({props:A}),$.push(()=>_e(l,"ref",g)),$.push(()=>_e(l,"value",w)),l.$on("type",e[29]),l.$on("input",e[30]),l.$on("change",e[31]),l.$on("focus",e[32]),l.$on("focus",e[33]),l.$on("clear",e[34]),l.$on("clear",e[12]),l.$on("blur",e[35]),l.$on("keydown",e[36]),l.$on("keydown",e[37]);let W=e[6]&&Se(e),D=e[0].length>0&&e[1].length===0&&De();return{c(){t=L("div"),B(l.$$.fragment),n=T(),i=L("ul"),W&&W.c(),u=T(),D&&D.c(),d(i,"role","listbox"),d(i,"aria-labelledby",f=e[2]+"-label"),d(i,"id",o=e[2]+"-listbox"),d(i,"class","svelte-8v3puo"),Y(i,"svelte-typeahead-list",!0),d(t,"data-svelte-typeahead",""),d(t,"role","combobox"),d(t,"aria-haspopup","listbox"),d(t,"aria-owns",c=e[2]+"-listbox"),d(t,"aria-expanded",F=e[6]||e[5]&&e[0].length>0&&e[1].length===0),d(t,"id",v=e[2]+"-typeahead"),d(t,"class","svelte-8v3puo"),Y(t,"dropdown",e[1].length>0)},m(b,p){N(b,t,p),R(l,t,null),I(t,n),I(t,i),W&&W.m(i,null),I(i,u),D&&D.m(i,null),e[40](t),h=!0,k||(_=M(window,"click",e[26]),k=!0)},p(b,p){const y=p[0]&16918?oe(S,[p[0]&4&&{id:b[2]},S[1],p[0]&16384&&ce(b[14]),S[3],p[0]&4&&{"aria-controls":b[2]+"-listbox"},p[0]&4&&{"aria-labelledby":b[2]+"-label"},p[0]&534&&{"aria-activedescendant":b[9]>=0&&!b[4]&&b[1].length>0?`${b[2]}-result-${b[9]}`:null}]):{};!a&&p[0]&256&&(a=!0,y.ref=b[8],ge(()=>a=!1)),!s&&p[0]&1&&(s=!0,y.value=b[0],ge(()=>s=!1)),l.$set(y),b[6]?W?(W.p(b,p),p[0]&64&&O(W,1)):(W=Se(b),W.c(),O(W,1),W.m(i,u)):W&&(Ce(),z(W,1,1,()=>{W=null}),Ne()),b[0].length>0&&b[1].length===0?D||(D=De(),D.c(),D.m(i,null)):D&&(D.d(1),D=null),(!h||p[0]&4&&f!==(f=b[2]+"-label"))&&d(i,"aria-labelledby",f),(!h||p[0]&4&&o!==(o=b[2]+"-listbox"))&&d(i,"id",o),(!h||p[0]&4&&c!==(c=b[2]+"-listbox"))&&d(t,"aria-owns",c),(!h||p[0]&99&&F!==(F=b[6]||b[5]&&b[0].length>0&&b[1].length===0))&&d(t,"aria-expanded",F),(!h||p[0]&4&&v!==(v=b[2]+"-typeahead"))&&d(t,"id",v),(!h||p[0]&2)&&Y(t,"dropdown",b[1].length>0)},i(b){h||(O(l.$$.fragment,b),O(W),h=!0)},o(b){z(l.$$.fragment,b),z(W),h=!1},d(b){b&&q(t),H(l),W&&W.d(),D&&D.d(),e[40](null),k=!1,_()}}}function Ot(e,t,l){let a,s,n;const i=["id","value","data","extract","disable","filter","autoselect","inputAfterSelect","results","focusAfterSelect","showDropdownOnFocus","limit"];let u=se(t,i),{$$slots:f={},$$scope:o}=t;const c=ot(f);let{id:F="typeahead-"+Math.random().toString(36)}=t,{value:v=""}=t,{data:h=[]}=t,{extract:k=r=>r}=t,{disable:_=r=>!1}=t,{filter:S=r=>!1}=t,{autoselect:g=!0}=t,{inputAfterSelect:w="update"}=t,{results:A=[]}=t,{focusAfterSelect:W=!1}=t,{showDropdownOnFocus:D=!1}=t,{limit:b=1/0}=t;const p=ze();let y=null,E=null,U=!1,j=-1,m="",C=!1;de(()=>{m!==s&&g&&l(9,j=He()),m!==s&&!c["no-results"]&&l(4,U=A.length===0),m=s});async function Q(){const r=A[j];if(r.disabled)return;const V=k(r.original),X=v;w==="clear"&&l(0,v=""),w==="update"&&l(0,v=V),p("select",{selectedIndex:j,searched:X,selected:V,original:r.original,originalIndex:r.index}),await ft(),W&&E.focus(),ie()}function He(){var X,pe;let r=0,V=((X=A[r])==null?void 0:X.disabled)??!1;for(;V;)r===A.length?r=0:r+=1,V=((pe=A[r])==null?void 0:pe.disabled)??!1;return r}function ue(r){let V=r===1&&j===A.length-1?0:j+r;V<0&&(V=A.length-1);let X=A[V].disabled;for(;X;)V===A.length?V=0:V+=r,X=A[V].disabled;l(9,j=V)}const me=()=>l(4,U=!1),ie=()=>l(4,U=!0),Ge=({target:r})=>{!U&&!(y!=null&&y.contains(r))&&ie()};function Ke(r){E=r,l(8,E)}function Je(r){v=r,l(0,v)}function Xe(r){P.call(this,e,r)}function Ye(r){P.call(this,e,r)}function Qe(r){P.call(this,e,r)}function Ze(r){P.call(this,e,r)}const xe=()=>{me(),D&&(l(6,n=!0),l(5,C=!0))};function $e(r){P.call(this,e,r)}function et(r){P.call(this,e,r)}function tt(r){P.call(this,e,r)}const lt=r=>{if(A.length!==0)switch(r.key){case"Enter":Q();break;case"ArrowDown":r.preventDefault(),ue(1);break;case"ArrowUp":r.preventDefault(),ue(-1);break;case"Escape":r.preventDefault(),l(0,v=""),E==null||E.focus(),ie();break}},it=(r,V)=>{r.disabled||(l(9,j=V),Q())},nt=(r,V)=>{r.disabled||l(9,j=V)};function st(r){$[r?"unshift":"push"](()=>{y=r,l(7,y)})}return e.$$set=r=>{t=K(K({},t),Ue(r)),l(14,u=se(t,i)),"id"in r&&l(2,F=r.id),"value"in r&&l(0,v=r.value),"data"in r&&l(15,h=r.data),"extract"in r&&l(16,k=r.extract),"disable"in r&&l(17,_=r.disable),"filter"in r&&l(18,S=r.filter),"autoselect"in r&&l(19,g=r.autoselect),"inputAfterSelect"in r&&l(20,w=r.inputAfterSelect),"results"in r&&l(1,A=r.results),"focusAfterSelect"in r&&l(21,W=r.focusAfterSelect),"showDropdownOnFocus"in r&&l(3,D=r.showDropdownOnFocus),"limit"in r&&l(22,b=r.limit),"$$scope"in r&&l(24,o=r.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65536&&l(23,a={pre:"<mark>",post:"</mark>",extract:k}),e.$$.dirty[0]&13074433&&l(1,A=v!==""?J.filter(v,h,a).filter(({score:r})=>r>0).slice(0,b).filter(r=>!S(r.original)).map(r=>({...r,disabled:_(r.original)})):h.map(r=>({string:k(r),original:r}))),e.$$.dirty[0]&65538&&(s=A.map(r=>k(r.original)).join("")),e.$$.dirty[0]&50&&l(6,n=!U&&A.length>0&&C),e.$$.dirty[0]&104&&D&&l(6,n=n&&C)},[v,A,F,D,U,C,n,y,E,j,Q,ue,me,ie,u,h,k,_,S,g,w,W,b,a,o,f,Ge,Ke,Je,Xe,Ye,Qe,Ze,xe,$e,et,tt,lt,it,nt,st]}class Vt extends ee{constructor(t){super(),te(this,t,Ot,Et,le,{id:2,value:0,data:15,extract:16,disable:17,filter:18,autoselect:19,inputAfterSelect:20,results:1,focusAfterSelect:21,showDropdownOnFocus:3,limit:22},null,[-1,-1])}}function zt(e){let t,l,a,s,n,i,u,f,o,c,F,v,h,k,_,S,g,w,A,W,D,b;return f=new ae({props:{icon:gt}}),c=new Vt({props:{label:"Select an embed",value:e[6][e[0].indexOf(e[4])]||e[6][e[5]]||e[6][0],extract:e[8],data:e[0].map(We),placeholder:"Search",showDropdownOnFocus:!0}}),c.$on("select",e[9]),A=new ae({props:{icon:je}}),D=new Pe({props:{breakpoints:e[1],minFrameWidth:e[2],maxFrameWidth:e[3]}}),{c(){t=L("div"),l=L("header"),l.innerHTML='<img src="https://graphics.thomsonreuters.com/style-assets/images/logos/reuters-graphics-logo/svg/graphics-logo-dark.svg" alt=""/>',a=T(),s=L("div"),n=L("div"),i=L("a"),u=ne("Live link "),B(f.$$.fragment),o=T(),B(c.$$.fragment),F=T(),v=L("div"),h=L("p"),h.textContent="Preview",k=T(),_=L("div"),S=T(),g=L("div"),w=L("a"),B(A.$$.fragment),W=T(),B(D.$$.fragment),d(l,"class","svelte-6lwy9l"),d(i,"rel","external"),d(i,"target","_blank"),d(i,"href",e[4]),d(i,"title",e[4]),d(i,"class","svelte-6lwy9l"),d(n,"class","embed-link svelte-6lwy9l"),d(s,"id","typeahead-container"),d(s,"class","svelte-6lwy9l"),d(h,"class","svelte-6lwy9l"),d(v,"id","preview-label"),Z(v,"width",e[7]+"px"),d(v,"class","svelte-6lwy9l"),d(_,"id","frame-parent"),Z(_,"width",e[7]+"px"),d(_,"class","svelte-6lwy9l"),d(t,"class","container"),d(w,"rel","external"),d(w,"href","./../"),d(w,"class","svelte-6lwy9l"),d(g,"id","home-link"),d(g,"class","svelte-6lwy9l")},m(p,y){N(p,t,y),I(t,l),I(t,a),I(t,s),I(s,n),I(n,i),I(i,u),R(f,i,null),I(s,o),R(c,s,null),I(t,F),I(t,v),I(v,h),I(t,k),I(t,_),N(p,S,y),N(p,g,y),I(g,w),R(A,w,null),N(p,W,y),R(D,p,y),b=!0},p(p,[y]){(!b||y&16)&&d(i,"href",p[4]),(!b||y&16)&&d(i,"title",p[4]);const E={};y&113&&(E.value=p[6][p[0].indexOf(p[4])]||p[6][p[5]]||p[6][0]),y&64&&(E.extract=p[8]),y&1&&(E.data=p[0].map(We)),c.$set(E),(!b||y&128)&&Z(v,"width",p[7]+"px"),(!b||y&128)&&Z(_,"width",p[7]+"px");const U={};y&2&&(U.breakpoints=p[1]),y&4&&(U.minFrameWidth=p[2]),y&8&&(U.maxFrameWidth=p[3]),D.$set(U)},i(p){b||(O(f.$$.fragment,p),O(c.$$.fragment,p),O(A.$$.fragment,p),O(D.$$.fragment,p),b=!0)},o(p){z(f.$$.fragment,p),z(c.$$.fragment,p),z(A.$$.fragment,p),z(D.$$.fragment,p),b=!1},d(p){p&&q(t),H(f),H(c),p&&q(S),p&&q(g),H(A),p&&q(W),H(D,p)}}}const We=(e,t)=>({index:t,embed:e});function Tt(e,t,l){let a,s;Me(e,G,_=>l(7,s=_));let{embeds:n}=t,{breakpoints:i=[330,510,660,930,1200]}=t,{minFrameWidth:u=320}=t,{maxFrameWidth:f=1200}=t,c=(()=>{if(typeof window>"u")return n[0];const _=window.localStorage.getItem("framer-active-embed");return _&&n.indexOf(_)>-1?_:n[0]})(),F=n.indexOf(c);const v=_=>{const S=n.indexOf(_)>-1?_:n[F]||n[0];new yt.Parent("frame-parent",/^http/.test(S)?S:vt(window.location.origin,S,{trailingSlash:!0}))};Te(()=>{v(c)}),de(()=>{v(c)});const h=_=>a[_.index],k=({detail:_})=>{typeof window<"u"&&window.localStorage.setItem("framer-active-embed",_.original.embed),l(4,c=_.original.embed),l(5,F=_.original.index)};return e.$$set=_=>{"embeds"in _&&l(0,n=_.embeds),"breakpoints"in _&&l(1,i=_.breakpoints),"minFrameWidth"in _&&l(2,u=_.minFrameWidth),"maxFrameWidth"in _&&l(3,f=_.maxFrameWidth)},e.$$.update=()=>{e.$$.dirty&1&&l(6,a=Ft(n))},[n,i,u,f,c,F,a,s,h,k]}class re extends ee{constructor(t){super(),te(this,t,Tt,zt,le,{embeds:0,breakpoints:1,minFrameWidth:2,maxFrameWidth:3})}}re.__docgen={version:3,name:"Framer.svelte",data:[{visibility:"public",description:null,keywords:[],name:"embeds",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"breakpoints",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{visibility:"public",description:null,keywords:[],name:"minFrameWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:320},{visibility:"public",description:null,keywords:[],name:"maxFrameWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:1200}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function Ut(e){let t,l;const a=[e[0]];let s={};for(let n=0;n<a.length;n+=1)s=K(s,a[n]);return t=new re({props:s}),{c(){B(t.$$.fragment)},m(n,i){R(t,n,i),l=!0},p(n,i){const u=i&1?oe(a,[ce(n[0])]):{};t.$set(u)},i(n){l||(O(t.$$.fragment,n),l=!0)},o(n){z(t.$$.fragment,n),l=!1},d(n){H(t,n)}}}function Ct(e){let t,l,a,s,n,i;const u=[{title:"Utilities/Framer"},{component:re},ye(ve)];let f={};for(let o=0;o<u.length;o+=1)f=K(f,u[o]);return t=new pt({props:f}),a=new bt({props:{$$slots:{default:[Ut,({args:o})=>({0:o}),({args:o})=>o?1:0]},$$scope:{ctx:e}}}),n=new ht({props:{name:"Default",args:{embeds:["https://graphics.reuters.com/USA-CONGRESS/FUNDRAISING/zjvqkawjlvx/embeds/en/embed/?zzz"]}}}),{c(){B(t.$$.fragment),l=T(),B(a.$$.fragment),s=T(),B(n.$$.fragment)},m(o,c){R(t,o,c),N(o,l,c),R(a,o,c),N(o,s,c),R(n,o,c),i=!0},p(o,[c]){const F=c&0?oe(u,[u[0],c&0&&{component:re},c&0&&ce(ye(ve))]):{};t.$set(F);const v={};c&3&&(v.$$scope={dirty:c,ctx:o}),a.$set(v)},i(o){i||(O(t.$$.fragment,o),O(a.$$.fragment,o),O(n.$$.fragment,o),i=!0)},o(o){z(t.$$.fragment,o),z(a.$$.fragment,o),z(n.$$.fragment,o),i=!1},d(o){H(t,o),o&&q(l),H(a,o),o&&q(s),H(n,o)}}}class Nt extends ee{constructor(t){super(),te(this,t,null,Ct,le,{})}}const Re=mt(Nt,{meta:{title:"Utilities/Framer"},stories:{"tpl:default":{storyId:"utilities-framer--default",name:"default",template:!0,source:"<Framer {...args} />",hasArgs:!0},Default:{storyId:"utilities-framer--default",name:"Default",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","componentDocs","Framer","withComponentDocs"]}),Jt=Re.meta,Xt=["Default"],Yt=Re.stories.Default;export{Yt as Default,Xt as __namedExportsOrder,Jt as default};
//# sourceMappingURL=Framer.stories-57a92336.js.map
